!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self).hyperappFx={})}(this,function(n){"use strict";function t(n){console.log.apply(null,n)}function e(n,t){var e=Math.random()*(n.max-n.min)+n.min;t(n.action,e)}function r(n,t){var e,r={};for(e in n)r[e]=n[e];for(e in t)r[e]=t[e];return r}function u(n,t,e,r){var o=t.bind(null,e);return n.addEventListener(r,o),function(){n.removeEventListener(r,o)}}function o(t,e){fetch(t.url,t.options).then(function(n){if(!n.ok)throw n;return n}).then(function(n){return n[t.response]()}).then(function(n){e(t.action,n)}).catch(function(n){e(t.error,n)})}function i(n,t){for(var e=0;e<n.length;e++)n[e][0](n[e][1],t)}function c(t,n){n(function(n){return r(n,t.action(n))})}var a=[];function s(t,n){var e=a.find(function(n){return n[0]===t.action});e?clearTimeout(e[1]):(e=[t.action],a.push(e)),e[1]=setTimeout(function(){n(t.action)},t.wait)}var f=[];function l(t,n){var e=f.find(function(n){return n[0]===t.action});e||(e=[t.action],f.push(e)),e[1]||(n(t.action),e[1]=!0,setTimeout(function(){e[1]=!1},t.rate))}function m(n,t){var e,r;function o(){t(n.action,n.asDate?new Date:performance.now())}return n.now&&o(),n.after&&(e=setTimeout(o,n.after)),n.every&&(r=setInterval(o,n.every)),function(){e&&clearTimeout(e),r&&clearInterval(r)}}function p(e,r){var o;return o=requestAnimationFrame(function n(t){r(e,t),o=requestAnimationFrame(n)}),function(){cancelAnimationFrame(o)}}function d(n,t){var e=u.bind(null,document,t,n.action),r=n.downs?e("keydown"):null,o=n.ups?e("keyup"):null,i=n.presses?e("keypress"):null;return function(){r&&r(),o&&o(),i&&i()}}var v=0,h={};function k(n,t){var e,r,o=h[n.url];function i(){o.socket.send(n.send)}return o||(o={socket:new WebSocket(n.url,n.protocols),listeners:[]},h[n.url]=o),n.send&&(o.socket.readyState===v?o.socket.addEventListener("open",i):i()),n.listen&&(e=u(o.socket,t,n.listen,"message"),o.listeners.push(e)),n.error&&(r=u(o.socket,t,n.error,"error"),o.listeners.push(r)),function(){e&&e(),r&&r(),o.listeners=o.listeners.filter(function(n){return n!==e&&n!==r}),0===o.listeners.length&&(o.socket.close(),delete h[n.url])}}n.Animation=function(n){return[p,n]},n.BatchFx=function(){return[i,arguments]},n.Console=function(){return[t,arguments]},n.Debounce=function(n){return[s,n]},n.Http=function(n){return[o,r({options:{},response:"json",error:n.action},n)]},n.Keyboard=function(n){return[d,n]},n.Merge=function(n){return[c,{action:n}]},n.Random=function(n){return[e,{action:n.action,min:n.min||0,max:n.max||1}]},n.Throttle=function(n){return[l,n]},n.Time=function(n){return[m,n]},n.WebSocketClient=function(n){return[k,n]}});
//# sourceMappingURL=hyperappFx.js.map